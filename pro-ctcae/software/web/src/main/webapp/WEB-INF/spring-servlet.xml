<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:dwr="http://www.directwebremoting.org/schema/spring-dwr"
       xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.directwebremoting.org/schema/spring-dwr
        http://www.directwebremoting.org/schema/spring-dwr-2.0.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-2.5.xsd">

    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="/WEB-INF/message"/>
        <property name="cacheSeconds" value="1"/>
    </bean>

    <bean id="simpleUrlHandlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="order" value="1"/>

        <property name="mappings">
            <value>
            </value>
        </property>
        <property name="interceptors">
            <list>
                <ref bean="sectionInterceptor"/>
                <ref bean="openSessionInViewInterceptor"/>
            </list>
        </property>

    </bean>
    <bean id="openSessionInViewInterceptor"
          class="org.springframework.orm.hibernate3.support.OpenSessionInViewInterceptor" autowire="byName">
        <property name="singleSession" value="true"/>
        <property name="flushModeName" value="FLUSH_AUTO"/>
        <property name="sessionFactory" ref="sessionFactory"/>
    </bean>
    <bean class="org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor"/>

    <bean class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
        <property name="definitions">
            <list>
                <value>/WEB-INF/tiles-definitions.xml</value>
                <value>/WEB-INF/views/study/tiles-definitions.xml</value>
            </list>
        </property>
    </bean>


    <bean id="urlResolver" class="gov.nih.nci.cabig.ctms.tools.spring.BeanNameControllerUrlResolver"
          p:servletName="pages"/>


    <bean id="irViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"
          p:viewClass="org.springframework.web.servlet.view.InternalResourceView"
          p:prefix="/WEB-INF/views/" p:suffix=".jsp"/>

    <bean id="multipartResolver"
          class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
        <property name="maxUploadSize" value="10000000"/>
    </bean>

    <bean id="urlMapping" class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping" lazy-init="true">
        <property name="interceptors">
            <list>
                <ref bean="sectionInterceptor"/>
            </list>
        </property>
    </bean>

    <bean id="sectionInterceptor" class="gov.nih.nci.cabig.ctms.web.chrome.SectionInterceptor">
        <property name="sections">
            <list>
                <bean class="gov.nih.nci.cabig.ctms.web.chrome.Section" p:urlResolver-ref="urlResolver"
                      p:displayName="Form"
                      p:mainController="manageFormController" p:pathMapping="/form/**">
                    <property name="tasks">
                        <list>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="form.tab.manage_form" p:linkName="manageFormController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="form.tab.create_form" p:linkName="basicFormController"/>

                        </list>
                    </property>
                </bean>
                <bean class="gov.nih.nci.cabig.ctms.web.chrome.Section" p:urlResolver-ref="urlResolver"
                      p:displayName="Studies"
                      p:mainController="searchStudyController" p:pathMapping="/study/**">
                    <property name="tasks">
                        <list>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="study.tab.enter_study" p:linkName="createStudyController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="study.tab.search_study" p:linkName="searchStudyController"/>

                        </list>
                    </property>
                </bean>
                <bean class="gov.nih.nci.cabig.ctms.web.chrome.Section" p:urlResolver-ref="urlResolver"
                      p:displayName="Participants"
                      p:mainController="searchParticipantController" p:pathMapping="/participant/**">
                    <property name="tasks">
                        <list>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="participant.tab.enter_participant"
                                  p:linkName="createParticipantController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="participant.tab.search_participant"
                                  p:linkName="searchParticipantController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="participant.tab.schedule_form" p:linkName="scheduleCrfController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="participant.tab.monitor_form" p:linkName="monitorFormController"/>

                        </list>
                    </property>
                </bean>
                <bean class="gov.nih.nci.cabig.ctms.web.chrome.Section" p:urlResolver-ref="urlResolver"
                      p:displayName="Administration"
                      p:mainController="searchClinicalStaffController" p:pathMapping="/admin/**">
                    <property name="tasks">
                        <list>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="clinicalStaff.tab.clinical_staff"
                                  p:linkName="searchClinicalStaffController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="administration.tab.passwordPolicy"
                                  p:linkName="passwordPolicyConfigurationController"/>
                        </list>
                    </property>
                </bean>
                <bean class="gov.nih.nci.cabig.ctms.web.chrome.Section" p:urlResolver-ref="urlResolver"
                      p:displayName="Reports"
                      p:mainController="participantCareMonitorController" p:pathMapping="/reports/**">
                    <property name="tasks">
                        <list>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="reports.tab.participant_care"
                                  p:linkName="participantCareMonitorController"/>
                            <bean class="gov.nih.nci.cabig.ctms.web.chrome.Task" p:urlResolver-ref="urlResolver"
                                  p:displayName="reports.tab.study_level_report"
                                  p:linkName="reportSearchCriteriaController"/>
                        </list>
                    </property>
                </bean>


            </list>
        </property>
    </bean>

    <bean name="/form/manageForm" id="manageFormController" class="gov.nih.nci.ctcae.web.form.ManageFormController">
        <property name="studyRepository" ref="studyRepository"/>
        <property name="crfAjaxFacade" ref="crfAjaxFacade"/>
        <property name="studyAjaxFacade" ref="studyAjaxFacade"/>
    </bean>


    <bean name="/form/basicForm" id="basicFormController" class="gov.nih.nci.ctcae.web.form.BasicFormController"
          parent="formController">
        <property name="genericRepository" ref="genericRepository"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>

    <bean name="/form/editForm" id="editFormController" class="gov.nih.nci.ctcae.web.form.EditFormController"
          parent="formController">
        <property name="genericRepository" ref="genericRepository"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>

    <bean id="formController" class="gov.nih.nci.ctcae.web.form.FormController" abstract="true"
          parent="securedTabbedFlowFormController">
        <property name="crfRepository" ref="crfRepository"/>
        <property name="formArmScheduleRepository" ref="formArmScheduleRepository"/>
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
        <property name="uniqueTitleForCrfValidator" ref="uniqueTitleForCrfValidator"/>
        <property name="notEmptyValidator" ref="notEmptyValidator"/>
    </bean>


    <bean name="/form/releaseForm" id="releaseFormController"
          class="gov.nih.nci.ctcae.web.form.ReleaseFormController" parent="ctcaeSimpleFormController"
          p:crfRepository-ref="crfRepository">
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>

    <bean name="/admin/clinicalStaff/effectiveStaff" id="effectiveStaffController"
          class="gov.nih.nci.ctcae.web.clinicalStaff.EffectiveStaffController" parent="ctcaeSimpleFormController"
          p:clinicalStaffRepository-ref="clinicalStaffRepository">
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>


    <bean name="/form/allConditions" id="allConditionsController"
          class="gov.nih.nci.ctcae.web.form.AllConditionsController">
    </bean>

    <bean name="abstractCrfController" id="crfController" abstract="true"
          class="gov.nih.nci.ctcae.web.form.AbstractCrfController">
        <property name="proCtcQuestionRepository" ref="proCtcQuestionRepository"/>
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
    </bean>

    <bean name="/form/addCrfComponent" id="addCrfComponentController" parent="abstractCrfController"
          class="gov.nih.nci.ctcae.web.form.AddCrfComponentController">
    </bean>


    <bean name="/confirmationCheck" id="confirmationController"
          class="gov.nih.nci.ctcae.web.ConfirmationCheckController">
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
    </bean>
    <bean name="/form/submit" id="submitFormController"
          class="gov.nih.nci.ctcae.web.form.SubmitFormController">
        <property name="genericRepository" ref="genericRepository"/>
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
        <property name="meddraRepository" ref="meddraRepository"/>
    </bean>

    <bean name="/admin/passwordConfiguration" id="passwordPolicyConfigurationController"
          class="gov.nih.nci.ctcae.web.PasswordPolicyConfigurationController">
        <property name="passwordPolicyService" ref="passwordPolicyService"/>
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/form/addquestion" id="addQuestionByParticipantController"
          class="gov.nih.nci.ctcae.web.form.AddQuestionByParticipantController" parent="ctcaeSimpleFormController">
        <property name="genericRepository" ref="genericRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>
    <bean name="/form/copyForm" id="copyFormController"
          class="gov.nih.nci.ctcae.web.form.CopyFormController">
        <property name="crfRepository" ref="crfRepository"/>
    </bean>

    <bean name="/form/viewForm" id="viewFormController"
          class="gov.nih.nci.ctcae.web.form.ViewFormController">
        <property name="crfRepository" ref="crfRepository"/>
    </bean>

    <bean name="/form/deleteForm" id="deleteFormController"
          class="gov.nih.nci.ctcae.web.form.DeleteFormController" parent="ctcaeSimpleFormController">
        <property name="crfRepository" ref="crfRepository"/>
        <property name="studyRepository" ref="studyRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>

    </bean>
    <bean name="/form/versionForm" id="versionFormController"
          class="gov.nih.nci.ctcae.web.form.VersionFormController" parent="ctcaeSimpleFormController">
        <property name="crfRepository" ref="crfRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>

    </bean>
    <bean name="/form/showVersionForm" id="showVersionFormController"
          class="gov.nih.nci.ctcae.web.form.ShowVersionFormController">
        <property name="crfRepository" ref="crfRepository"/>

    </bean>
    <bean name="/form/addFormScheduleCycle" id="addFormScheduleCycleController"
          class="gov.nih.nci.ctcae.web.form.AddFormScheduleCycleController">
    </bean>
    <bean name="/form/addFormRule" id="addFormRuleController"
          class="gov.nih.nci.ctcae.web.form.AddFormRuleController">
        <property name="crfRepository" ref="crfRepository"/>
        <property name="studyOrganizationRepository" ref="studyOrganizationRepository"/>
    </bean>


    <!--<bean name="studyController" id="studyController"-->
    <bean id="studyController"
          class="gov.nih.nci.ctcae.web.study.StudyController" parent="securedTabbedFlowFormController" abstract="true">
        <property name="studyRepository" ref="studyRepository"/>
        <property name="genericRepository" ref="genericRepository"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>

    <bean name="/study/createStudy" id="createStudyController"
          class="gov.nih.nci.ctcae.web.study.CreateStudyController" parent="studyController">
    </bean>

    <bean name="/study/editStudy" id="editStudyController"
          class="gov.nih.nci.ctcae.web.study.EditStudyController" parent="studyController">
    </bean>

    <bean name="/study/changeStatus" id="changeStatusController"
          class="gov.nih.nci.ctcae.web.study.ChangeStatusController" parent="ctcaeSimpleFormController">
        <property name="studyOrganizationClinicalStaffRepository" ref="studyOrganizationClinicalStaffRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>

    <bean name="/study/addStudySite" id="addStudySiteController"
          class="gov.nih.nci.ctcae.web.study.AddStudySiteController">
        <property name="studyRepository" ref="studyRepository"/>
    </bean>
    <bean name="/study/addStudyArm" id="addStudyArmController"
          class="gov.nih.nci.ctcae.web.study.AddStudyArmController">
    </bean>

    <bean name="/admin/clinicalStaff/addClinicalStaffComponent" id="addClinicalStaffComponentController"
          class="gov.nih.nci.ctcae.web.clinicalStaff.AddClinicalStaffComponentController">
    </bean>

    <bean name="/study/searchStudy" id="searchStudyController"
          class="gov.nih.nci.ctcae.web.study.SearchStudyController">
        <property name="studyAjaxFacade" ref="studyAjaxFacade"/>
        <property name="studyRepository" ref="studyRepository"/>
    </bean>

    <bean name="/study/addStudyComponent" id="addStudyComponentController"
          class="gov.nih.nci.ctcae.web.study.AddStudyComponentController">
    </bean>

    <bean name="participantController" class="gov.nih.nci.ctcae.web.participant.ParticipantController"
          parent="securedTabbedFlowFormController">
        <property name="participantRepository" ref="participantRepository"/>
        <property name="organizationRepository" ref="organizationRepository"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>

    <bean name="/participant/create" id="createParticipantController"
          class="gov.nih.nci.ctcae.web.participant.CreateParticipantController" parent="participantController"/>
    <bean name="/participant/edit" id="editParticipantController"
          class="gov.nih.nci.ctcae.web.participant.EditParticipantController" parent="participantController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/participant/search" id="searchParticipantController"
          class="gov.nih.nci.ctcae.web.participant.SearchParticipantController">
        <property name="participantAjaxFacade" ref="participantAjaxFacade"/>
        <property name="studyRepository" ref="studyRepository"/>
        <property name="proCtcAEProperties" ref="proCtcAeProperties"/>
    </bean>

    <bean name="/participant/schedulecrf" id="scheduleCrfController"
          class="gov.nih.nci.ctcae.web.participant.ScheduleCrfController" parent="securedTabbedFlowFormController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
    </bean>

    <bean name="/participant/participantInbox" id="participantInboxController"
          class="gov.nih.nci.ctcae.web.participant.ParticipantInboxController" parent="ctcaeSimpleFormController">
        <property name="formView" value="participant/participantInbox"/>
        <property name="userRepository" ref="userRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>

    <!--<bean name="/participant/showParticipantScheduleTable" id="showParticipantScheduleController"-->
    <!--class="gov.nih.nci.ctcae.web.participant.ShowParticipantScheduleController">-->
    <!--<property name="studyRepository" ref="studyRepository"/>-->
    <!--</bean>-->
    <bean name="/participant/printSchedule" id="printParticipantScheduleController"
          class="gov.nih.nci.ctcae.web.participant.PrintParticipantScheduleController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
    </bean>
    <bean name="/participant/enterResponses" id="enterParticipantResponsesController"
          class="gov.nih.nci.ctcae.web.participant.EnterParticipantResponsesController"
          parent="ctcaeSimpleFormController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>

    <bean name="/participant/addCrfSchedule" id="addCrfScheduleController"
          class="gov.nih.nci.ctcae.web.participant.AddCrfScheduleController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/participant/deleteFormSchedule" id="deleteFormSchedule"
          class="gov.nih.nci.ctcae.web.participant.DeleteFormScheduleController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/participant/detailsFormSchedule" id="detailsFormSchedule"
          class="gov.nih.nci.ctcae.web.participant.DetailsFormScheduleController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/participant/addFormSchedule" id="addFormSchedule"
          class="gov.nih.nci.ctcae.web.participant.AddFormScheduleController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/participant/addNotificationClinicalStaff" id="addNotificationClinicalStaff"
          class="gov.nih.nci.ctcae.web.participant.AddNotificationClinicalStaffController">
    </bean>

    <bean name="/participant/moveFormSchedule" id="moveFormSchedule"
          class="gov.nih.nci.ctcae.web.participant.MoveFormScheduleController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/admin/createClinicalStaff" id="createClinicalStaffController"
          class="gov.nih.nci.ctcae.web.clinicalStaff.CreateClinicalStaffController" parent="ctcaeSimpleFormController">
        <property name="clinicalStaffRepository" ref="clinicalStaffRepository"/>
        <property name="userNameAndPasswordValidator" ref="userNameAndPasswordValidator"/>
        <property name="genericRepository" ref="genericRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>
    <bean name="/admin/viewClinicalStaff" id="viewClinicalStaffController"
          class="gov.nih.nci.ctcae.web.clinicalStaff.ViewClinicalStaffController" parent="ctcaeSimpleFormController">
        <property name="clinicalStaffRepository" ref="clinicalStaffRepository"/>
    </bean>
    <bean name="/admin/searchClinicalStaff" id="searchClinicalStaffController"
          class="gov.nih.nci.ctcae.web.clinicalStaff.SearchClinicalStaffController">
        <property name="clinicalStaffAjaxFacade" ref="clinicalStaffAjaxFacade"/>
        <property name="studyRepository" ref="studyRepository"/>
    </bean>
    <bean name="/participant/monitorForm" id="monitorFormController"
          class="gov.nih.nci.ctcae.web.participant.MonitorFormController">
    </bean>
    <bean name="/participant/monitorFormStatus" id="monitorFormStatusController"
          class="gov.nih.nci.ctcae.web.participant.MonitorFormStatusController">
        <property name="studyRepository" ref="studyRepository"/>
        <property name="studyOrganizationRepository" ref="studyOrganizationRepository"/>
    </bean>
    <bean name="/participant/showCompletedCrf" id="showCompletedCrfController"
          class="gov.nih.nci.ctcae.web.participant.ShowCompletedCrfController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>

    </bean>
    <bean name="/participant/participantOffStudy" id="participantOffStudyController"
          class="gov.nih.nci.ctcae.web.participant.ParticipantOffStudyController" parent="ctcaeSimpleFormController">
        <property name="studyParticipantAssignmentRepository" ref="studyParticipantAssignmentRepository"/>
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
    </bean>

    <bean name="/reports/participantReport" id="participantCareMonitorController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantLevelReportController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
    </bean>

    <bean name="/reports/participantCareResults" id="participantCareResultsController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantLevelReportResultsController">
        <property name="genericRepository" ref="genericRepository"/>
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
    </bean>
    <bean name="/participant/responseReport" id="participantResponseReportController"
          class="gov.nih.nci.ctcae.web.participant.ParticipantResponseReportController">
        <property name="studyParticipantCrfScheduleRepository" ref="studyParticipantCrfScheduleRepository"/>
        <property name="userRepository" ref="userRepository"/>
        <property name="participantRepository" ref="participantRepository"/>
    </bean>
    <bean name="/reports/participantCarePdf" id="participantCarePdfController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantLevelReportPdfController">
    </bean>

    <bean name="/reports/participantCareExcel" id="participantCareExcelController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantReportExcelController">
    </bean>

    <bean name="/reports/overallStudy" id="studyLevelReportResultsController"
          class="gov.nih.nci.ctcae.web.reports.StudyLevelReportResultsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/reports/studyLevelReportExcel" id="studyLevelReportExcelController"
          class="gov.nih.nci.ctcae.web.reports.StudyLevelReportExcelController">
    </bean>

    <bean name="/reports/getParticipantItems" id="getParticipantCrfItemsController"
          class="gov.nih.nci.ctcae.web.reports.GetParticipantCrfItemsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <!--<bean name="/reports/studyLevelReportPdf" id="studyLevelReportPdfController"-->
    <!--class="gov.nih.nci.ctcae.web.reports.StudyLevelReportPdfController">-->
    <!--</bean>-->

    <bean name="/participant/displaycalendar" id="displayCalendarController"
          class="gov.nih.nci.ctcae.web.participant.DisplayCalendarController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/form/matchSymptoms" id="MatchSymptomsController"
          class="gov.nih.nci.ctcae.web.participant.MatchSymptomsController">
        <property name="scheduleCrfAjaxFacade" ref="scheduleCrfAjaxFacade"/>
    </bean>

    <bean name="/participant/displaystudysites" id="displayStudySitesController"
          class="gov.nih.nci.ctcae.web.participant.DisplayStudySitesController">
        <property name="studyOrganizationRepository" ref="studyOrganizationRepository"/>
        <property name="participantRepository" ref="participantRepository"/>
    </bean>
    <bean name="/reports/participantCareResultsGraph" id="participantCareResultsGraph"
          class="gov.nih.nci.ctcae.web.reports.ParticipantLevelGraphicalReportController"
          parent="participantCareResultsController">
    </bean>

    <bean name="/reports/symptomSummary" id="symptomSummaryReportResultsController"
          class="gov.nih.nci.ctcae.web.reports.graphical.SymptomSummaryReportResultsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/reports/symptomOverTime" id="symptomOverTimeReportResultsController"
          class="gov.nih.nci.ctcae.web.reports.graphical.SymptomOverTimeReportResultsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/reports/enrollmentReport" id="enrollmentReportResultsController"
          class="gov.nih.nci.ctcae.web.reports.EnrollmentReportResultsController">
        <property name="studyRepository" ref="studyRepository"/>
        <property name="studyOrganizationRepository" ref="studyOrganizationRepository"/>
    </bean>

    <bean name="/reports/reportDetails" id="symptomOverTimeReportDetailsController"
          class="gov.nih.nci.ctcae.web.reports.ReportDetailsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="/reports/participantAddedQuestions" id="participantAddedQuestionsResultsController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantAddedQuestionsReportResultsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/reports/participantAddedQuestionsDetails" id="participantAddedQuestionsDetailsController"
          class="gov.nih.nci.ctcae.web.reports.ParticipantAddedQuestionsReportDetailsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>
    <bean name="/participant/confirmSymptom" id="confirmSymptomController"
          class="gov.nih.nci.ctcae.web.participant.ConfirmSymptomController">
    </bean>

    <bean name="/reports/report" id="reportSearchCriteriaController"
          class="gov.nih.nci.ctcae.web.reports.ReportSearchCriteriaController">
        <property name="studyAjaxFacade" ref="studyAjaxFacade"/>
        <property name="crfAjaxFacade" ref="crfAjaxFacade"/>
        <property name="organizationAjaxFacade" ref="organizationAjaxFacade"/>
        <property name="studyRepository" ref="studyRepository"/>
    </bean>


    <bean name="/home" id="homeController"
          class="gov.nih.nci.ctcae.web.login.LoginController">
        <property name="clinicalStaffRepository" ref="clinicalStaffRepository"/>
        <property name="userRepository" ref="userRepository"/>
        <property name="studyOrganizationClinicalStaffRepository" ref="studyOrganizationClinicalStaffRepository"/>
    </bean>
    <bean name="/home/notificationdetails" id="notificationdetails"
          class="gov.nih.nci.ctcae.web.clinicalStaff.NotificationDetailsController">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean id="controllerTools" class="gov.nih.nci.ctcae.web.ControllerTools">
    </bean>


    <bean id="ctcaeSimpleFormController" class="gov.nih.nci.ctcae.web.CtcAeSimpleFormController"
          p:proCtcValidValueRepository-ref="proCtcValidValueRepository"
          p:organizationRepository-ref="organizationRepository"
          p:controllerTools-ref="controllerTools"
          p:studyOrganizationRepository-ref="studyOrganizationRepository"
          p:meddraValidValueRepository-ref="meddraValidValueRepository"
            >
        <property name="webControllerValidator" ref="webControllerValidator"/>
    </bean>

    <bean id="tabConfigurer" class="gov.nih.nci.cabig.ctms.web.tabs.DefaultTabConfigurer"/>

    <bean name="securedTabbedFlowFormController" class="gov.nih.nci.ctcae.web.form.CtcAeSecuredTabbedFlowController"
          abstract="true">
        <property name="tabConfigurer" ref="tabConfigurer"/>
        <property name="organizationClinicalStaffRepository" ref="organizationClinicalStaffRepository"/>
        <property name="controllerTools" ref="controllerTools"/>
        <property name="studyParticipantAssignmentRepository" ref="studyParticipantAssignmentRepository"/>
        <property name="participantRepository" ref="participantRepository"/>
        <property name="studyRepository" ref="studyRepository"/>
        <property name="clinicalStaffRepository" ref="clinicalStaffRepository"/>
        <property name="organizationRepository" ref="organizationRepository"/>
        <property name="webControllerValidator" ref="webControllerValidator"/>
        <property name="proCtcQuestionRepository" ref="proCtcQuestionRepository"/>
        <property name="privilegeAuthorizationCheck" ref="privilegeAuthorizationCheck"/>
        <property name="studyOrganizationRepository" ref="studyOrganizationRepository"/>
        <property name="studyOrganizationClinicalStaffRepository" ref="studyOrganizationClinicalStaffRepository"/>
        <property name="formArmScheduleRepository" ref="formArmScheduleRepository"/>
        <property name="meddraValidValueRepository" ref="meddraValidValueRepository"/>
        <property name="proCtcAEProperties" ref="proCtcAeProperties"/>
    </bean>


    <!-- validation beans-->

    <bean id="webControllerValidator"
          class="gov.nih.nci.ctcae.web.validation.validator.WebControllerValidatorImpl"/>

    <bean id="uniqueIdentifierForStudyValidator"
          class="gov.nih.nci.ctcae.core.validation.annotation.UniqueIdentifierForStudyValidator">
        <property name="studyRepository" ref="studyRepository"/>
    </bean>
    <bean id="uniqueTitleForCrfValidator"
          class="gov.nih.nci.ctcae.core.validation.annotation.UniqueTitleForCrfValidator">
        <property name="crfRepository" ref="crfRepository"/>
    </bean>

    <bean id="uniqueObjectInCollectionValidator"
          class="gov.nih.nci.ctcae.core.validation.annotation.UniqueObjectInCollectionValidator">
    </bean>
    <bean id="notEmptyValidator"
          class="gov.nih.nci.ctcae.core.validation.annotation.NotEmptyValidator">
    </bean>
    <bean id="notNullValidator"
          class="gov.nih.nci.ctcae.core.validation.annotation.NotNullValidator">
    </bean>
    <bean id="reportResultsHelper" class="gov.nih.nci.ctcae.web.reports.graphical.ReportResultsHelper">
        <property name="genericRepository" ref="genericRepository"/>
    </bean>

    <bean name="pastDueSchedulesReminderEmailBean" class="gov.nih.nci.ctcae.web.batch.PastDueSchedulesReminderEmail">
        <property name="sessionFactory" ref="sessionFactory"/>
    </bean>

    <bean id="pastDueSchedulesReminderEmailJob"
          class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
        <property name="targetObject" ref="pastDueSchedulesReminderEmailBean"/>
        <property name="targetMethod" value="generateEmailReports"/>
    </bean>

    <bean id="nightlyTrigger" class="gov.nih.nci.ctcae.web.batch.NightlyTriggerBean">
        <property name="jobDetail" ref="pastDueSchedulesReminderEmailJob"/>
    </bean>
    <bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="triggers">
            <list>
                <ref bean="nightlyTrigger"/>
            </list>
        </property>
    </bean>
    <bean id="buildInfo" class="gov.nih.nci.cabig.ctms.tools.BuildInfo">
        <property name="applicationName">
            <value>ProCtcAE</value>
        </property>
        <property name="versionNumber">
            <value>@project.version@</value>
        </property>
        <!-- provided by maven-buildnumber-plugin -->
        <!--<property name="timestamp">-->
        <!--<value>@buildNumber@</value>-->
        <!--</property>-->
    </bean>
    <bean name="/loadProCtcTerms" id="loadProCtcTerms" class="gov.nih.nci.ctcae.web.LoadProCtcTermController">
        <property name="proCtcTermRepository" ref="proCtcTermRepository"/>
        <property name="ctcTermRepository" ref="ctcTermRepository"/>
        <property name="proCtcRepository" ref="proCtcRepository"/>
    </bean>
    <bean name="/updateProCtcTerms" id="updateProCtcTerms" class="gov.nih.nci.ctcae.web.UpdateProCtcTermController">
        <property name="proCtcQuestionRepository" ref="proCtcQuestionRepository"/>
        <property name="ctcTermRepository" ref="ctcTermRepository"/>
    </bean>

    <bean name="applicationListener" class="gov.nih.nci.ctcae.web.security.ApplicationListener">
        <property name="userRepository" ref="userRepository"/>
    </bean>

</beans>
